var MongoRepository = require('mongorepository').Repository;
var _ = require('underscore'),
	serviceRepository = new MongoRepository(process.env.VIEW_STORE_CONNECTION_STRING,'services-transit');


var TransitServiceStore = function(){
	
	var findByDate = function(date, callback){
		var query = {"ordered_at": date};

		serviceRepository.find(query, function(results){
			callback(results);
		});
	};

	var all = function(callback){
		var query = {};

		serviceRepository.find(query, function(results){
			callback(results);
		});
	};

	return{
		findByDate : findByDate,
		all : all
	};
};

module.exports = TransitServiceStore;