var restify = require('restify'),
	gateway = restify.createJsonClient({
		url: process.env.GATEWAY_URI,
		version: '*'
	});

Subscriptions = function(){
	var subscribe = function(subscription,callback){
		gateway.post('/subscribe', { auth_token: 'test', subscription: subscription }, function(err, req, res, obj) {
			callback();
		});	
	};	

	var unsubscribe = function(unsubscription,callback){
		gateway.post('/unsubscribe', { auth_token: 'test', unsubscription: unsubscription }, function(err, req, res, obj) {
			callback();
		});	
	};	
	return {
		subscribe : subscribe,
		unsubscribe : unsubscribe
	};
};

module.exports = Subscriptions;