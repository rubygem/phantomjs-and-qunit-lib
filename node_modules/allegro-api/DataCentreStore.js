var _ = require('underscore'),
	MongoRepository = require('mongorepository').Repository;	

var DataCentreStore = function(){
	var dataCentreViewStoreRepository = new MongoRepository(process.env.VIEW_STORE_CONNECTION_STRING,'view-store-data-centres');
	
	function allDataCentresViewModels(callback){
		var query = {name: {$ne: "Telehouse North Secret"}};
		dataCentreViewStoreRepository.find(query, function(dataCentre){
			callback(dataCentre);
		});
	}

	return {
		allDataCentresViewModels:allDataCentresViewModels,	
	};
};

module.exports = DataCentreStore;